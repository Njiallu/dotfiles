#::::::::::::::::::::::::: General Custmisation :::::::::::::::::::::::::::::::#
set $mod   Mod4
set $app   Mod1
set $menu  rofi -show drun
set $apps  rofi -show window
set $tabs  rofi -show combi
set $lock  i3lock
set $term  alacritty
set $tterm alacritty -e tmux

font pango:DejaVuSansMono Nerd Font Mono 0
floating_modifier $mod

set $resize Resize: Arrows to resize

set $mode_gaps Gaps: (o) outer, (i) inner
set $mode_gaps_outer Outer: [Shift +] + | - | 0
set $mode_gaps_inner Inner: [Shift +] + | - | 0

gaps inner 20
gaps outer 0

# class                    border    back      text      indicator
client.focused            #fe8019af #fe8019af #282828   #282828
client.focused_inactive   #00       #1d2021   #928374   #282828
client.unfocused          #282828af #282828af #fabd2f   #fabd2f
client.urgent             #00       #fb4834   #ebdbb2   #282828

new_window none

#::::::::::::::::::::::::::::: Key Bindings :::::::::::::::::::::::::::::::::::#

bindsym $mod+q            kill
bindsym $mod+w            kill
bindsym Control+Shift+w   kill

bindsym $mod+Return       exec --no-startup-id $term
bindsym $mod+Shift+Return exec --no-startup-id $tterm
bindsym $mod+space        exec --no-startup-id $menu
bindsym $mod+Tab          exec --no-startup-id $apps
bindsym $app+Tab          exec --no-startup-id $tabs
bindsym --release $mod+l  exec --no-startup-id $lock

# Change focus
bindsym $mod+Left         focus left
bindsym $mod+Down         focus down
bindsym $mod+Up           focus up
bindsym $mod+Right        focus right

# Move focused window
bindsym $mod+Shift+Left   move left
bindsym $mod+Shift+Down   move down
bindsym $mod+Shift+Up     move up
bindsym $mod+Shift+Right  move right

# Split in h/v orientation
bindsym $mod+h            split h
bindsym $mod+v            split v

# Change mode
bindsym $mod+r            mode "$resize"
bindsym $mod+Shift+g      mode "$mode_gaps"

# Change container layout (fullscreen, stacked, tabbed, toggle split)
bindsym $mod+f            fullscreen toggle
bindsym $mod+s            layout stacking
bindsym $mod+t            layout tabbed
bindsym $mod+e            layout toggle split

bindsym $mod+Shift+space  floating toggle
bindsym $mod+$app+space   focus mode_toggle

# Focus the parent/child container
bindsym $mod+a            focus parent
bindsym $mod+d            focus child

# Pulse Audio controls
bindsym --release XF86AudioRaiseVolume  exec --no-startup-id amixer -D pulse sset Master 5%+ unmute
bindsym --release XF86AudioLowerVolume  exec --no-startup-id amixer -D pulse sset Master 5%- unmute
bindsym --release XF86AudioMute         exec --no-startup-id amixer -D pulse sset Master toggle

# Sreen brightness controls
bindsym --release XF86MonBrightnessUp   exec --no-startup-id xbacklight -inc 10
bindsym --release XF86MonBrightnessDown exec --no-startup-id xbacklight -dec 10

# Media player controls
bindsym --release XF86AudioPlay         exec playerctl play
bindsym --release XF86AudioPause        exec playerctl pause
bindsym --release XF86AudioNext         exec playerctl next
bindsym --release XF86AudioPrev         exec playerctl previous

bindsym $mod+Shift+c                    reload
bindsym $mod+Shift+r                    restart
bindsym $mod+$app+Control+e             exec i3-msg exit

#::::::::::::::::::::::: Customize workspace name :::::::::::::::::::::::::::::#

set $WS1   1
set $WS2   2
set $WS3   3
set $WS4   4
set $WS5   5
set $WS6   6
set $WS7   7
set $WS8   8
set $WS9   9
set $WS0   10

#       Switch to workspace
bindsym $mod+1 workspace $WS1
bindsym $mod+2 workspace $WS2
bindsym $mod+3 workspace $WS3
bindsym $mod+4 workspace $WS4
bindsym $mod+5 workspace $WS5
bindsym $mod+6 workspace $WS6
bindsym $mod+7 workspace $WS7
bindsym $mod+8 workspace $WS8
bindsym $mod+9 workspace $WS9
bindsym $mod+0 workspace $WS0

#       Move focused container to workspace
bindsym $mod+Shift+1 move container to workspace $WS1
bindsym $mod+Shift+2 move container to workspace $WS2
bindsym $mod+Shift+3 move container to workspace $WS3
bindsym $mod+Shift+4 move container to workspace $WS4
bindsym $mod+Shift+5 move container to workspace $WS5
bindsym $mod+Shift+6 move container to workspace $WS6
bindsym $mod+Shift+7 move container to workspace $WS7
bindsym $mod+Shift+8 move container to workspace $WS8
bindsym $mod+Shift+9 move container to workspace $WS9
bindsym $mod+Shift+0 move container to workspace $WS0

#       Screenshot, music, monitors, etc.
bindsym --release $mod+Shift+p exec maim --hidecursor -s ~/.ss.png && xclip -sel c -t image/png ~/.ss.png
bindsym --release $mod+Shift+o exec mpc toggle
bindsym --release $mod+Control+Left  move workspace to output left
bindsym --release $mod+Control+Right move workspace to output right
#bindsym --release $mod+Shift+r move workspace to output right

#:::::::::::::::::::::::::: Customize i3 modes ::::::::::::::::::::::::::::::::#

#		Resize mode
mode "$resize" {
		bindsym Down  resize grow   height 10 px or 5 ppt
		bindsym Up    resize shrink height 10 px or 5 ppt
		bindsym Right resize grow   width  10 px or 5 ppt
		bindsym Left  resize shrink width  10 px or 5 ppt

		bindsym Return mode "default"
		bindsym Escape mode "default"
}

#		Gaps mode
mode "$mode_gaps" {
		bindsym o      mode "$mode_gaps_outer"
		bindsym i      mode "$mode_gaps_inner"
		bindsym Return mode "default"
		bindsym Escape mode "default"
}

mode "$mode_gaps_inner" {
		bindsym plus  gaps inner current plus 5
		bindsym minus gaps inner current minus 5
		bindsym 0     gaps inner current set 0

		bindsym Shift+plus  gaps inner all plus 5
		bindsym Shift+minus gaps inner all minus 5
		bindsym Shift+0     gaps inner all set 0

		bindsym b      mode "$mode_gaps"
		bindsym Return mode "default"
		bindsym Escape mode "default"
}

mode "$mode_gaps_outer" {
		bindsym plus  gaps outer current plus 5
		bindsym minus gaps outer current minus 5
		bindsym 0     gaps outer current set 0

		bindsym Shift+plus  gaps outer all plus 5
		bindsym Shift+minus gaps outer all minus 5
		bindsym Shift+0     gaps outer all set 0

		bindsym b      mode "$mode_gaps"
		bindsym Return mode "default"
		bindsym Escape mode "default"
}

#::::::::::::::::::::::::::::: Various Exec :::::::::::::::::::::::::::::::::::#

# Screen configuration
exec_always --no-startup-id '/home/njiall/.screenlayout/default.sh'

#  Flash focus
exec_always --no-startup-id "killall -q flashfocus; flashfocus"
#  Such nice wallpaper
exec_always --no-startup-id "/usr/sbin/feh --bg-center /home/njiall/.config/wallpapers/mountains.png"
#  Polybar
exec_always --no-startup-id "killall -q polybar; /home/njiall/.config/polybar/launch.sh"
#  Conky
exec_always --no-startup-id "killall -q conky; /usr/sbin/conky"
#  Compton
exec_always --no-startup-id "killall -q compton; compton"
#  Dunst
exec_always --no-startup-id "killall -q dunst; dunst"
